<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Cymbal Home Garden{% endblock %}</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <script src="{{ url_for('static', filename='js/config.js') }}"></script>
    {% block head_extra %}{% endblock %}
  </head>
  <body>
    <header>
      <div>
        <a
          href="{{ url_for('index') }}"
          style="text-decoration: none; color: inherit"
          ><h1>Cymbal Home Garden</h1></a
        >
        <p class="agent-demo-info">
          Customer ID: <span id="current-customer-id">default_user</span>
        </p>
      </div>
      <div>
        <button id="cart-toggle">
          View Cart (<span id="cart-count">0</span>)
        </button>
        <button id="night-mode-toggle">Night Mode</button>
      </div>
    </header>

    <div id="cart-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Your Shopping Cart</h2>
        <div id="cart-items-container">
          <p>Your cart is empty.</p>
        </div>
        <div class="cart-summary">
          <p>Subtotal: $<span id="cart-subtotal">0.00</span></p>
          <button id="clear-cart-btn">Clear Cart</button>
          <button id="checkout-btn">Proceed to Checkout</button>
        </div>
      </div>
    </div>

    <main>{% block content %}{% endblock %}</main>

    <div id="agent-launcher-icon" class="agent-launcher">
      <i class="fa-solid fa-comment-dots fa-2x"></i>
    </div>

    {% include 'agent_widget.html' %}

    <footer>
      <p>&copy; 2025 Cymbal Home Garden</p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
    {% block scripts_extra %}{% endblock %}
  </body>
</html>
